[platformio]
src_dir = main

[env:esp32s3]
platform = espressif32@6.12.0
board = esp32-s3-devkitc-1
framework = espidf
platform_packages =
    platformio/tool-esptoolpy@^1.40500.0

; Flash configuration matching sdkconfig.defaults
board_build.flash_mode = qio
board_build.flash_size = 4MB
board_build.partitions = partitions.csv

; CPU and memory configuration
board_build.f_cpu = 240000000L
board_build.f_flash = 80000000L
board_build.psram_type = opi

; Monitor configuration
monitor_speed = 115200
monitor_filters = esp32_exception_decoder

; Build will use the existing CMakeLists.txt and sdkconfig.defaults
board_build.cmake_extra_args =
    -DIDF_TARGET=esp32s3


upload_port = /dev/cu.usbserial-214320
monitor_port = /dev/cu.usbserial-214320
